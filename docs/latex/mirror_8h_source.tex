\doxysection{mirror.\+h}
\hypertarget{mirror_8h_source}{}\label{mirror_8h_source}\index{simulator/opticalComponents/mirror.h@{simulator/opticalComponents/mirror.h}}
\mbox{\hyperlink{mirror_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <memory>}\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}../../utils/vec3.h"{}}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}../opticalComponent.h"{}}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}../opticalSurface.h"{}}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}../ray.h"{}}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00011}00011\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00012}\mbox{\hyperlink{class_mirror}{00012}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_mirror}{Mirror}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_optical_component}{OpticalComponent}}<T,\ U>\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00013}00013\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00014}00014\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_mirror_a5425cc9ab5766fef1957c15d8670b318}{reflect}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ incidentRay,\ \textcolor{keyword}{const}\ vec3<T>\&\ normal,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint);}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00016}00016\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00017}\mbox{\hyperlink{class_mirror_af02feab3af2457cb66719a2ba2776a46}{00017}}\ \ \ \ \ \mbox{\hyperlink{class_mirror_af02feab3af2457cb66719a2ba2776a46}{Mirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ \mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}})}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00018}00018\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_optical_component}{OpticalComponent}}<T,\ U>(std::move(\mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}}),\ \mbox{\hyperlink{optical_component_8h_a631e837a8591853eca73cc1f7daf6ce8}{OpticalComponentType}}::\mbox{\hyperlink{class_mirror}{Mirror}})\ \{\}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00019}\mbox{\hyperlink{class_mirror_a9cdd442b31331a6688125fa628196b8a}{00019}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_mirror_a9cdd442b31331a6688125fa628196b8a}{\string~Mirror}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00021}\mbox{\hyperlink{class_mirror_af5fbdcd0660fb96ee9f1f25bb621330c}{00021}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_mirror_af5fbdcd0660fb96ee9f1f25bb621330c}{handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00022}00022\ \};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00024}00024\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00025}\mbox{\hyperlink{class_planar_mirror}{00025}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_planar_mirror}{PlanarMirror}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00026}00026\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00027}00027\ \ \ \ \ \mbox{\hyperlink{class_planar_mirror}{PlanarMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ \mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00029}00029\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_planar_mirror_a05684354087c586612029585191dd4f9}{handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00030}00030\ \};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00032}00032\ \textcolor{comment}{//\ Definitions}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00034}00034\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00035}\mbox{\hyperlink{class_planar_mirror_a0cf2e43bc972042724b8ff2c76d7cdac}{00035}}\ \mbox{\hyperlink{class_planar_mirror_a0cf2e43bc972042724b8ff2c76d7cdac}{PlanarMirror<T,\ U>::PlanarMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ surface)}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00036}00036\ \ \ \ \ :\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>(std::move(surface))\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_planar_surface}{PlanarSurface<T,\ U>}}*\textcolor{keyword}{>}(this-\/>\mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}}.get())\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}PlanarMirror\ expected\ a\ PlanarSurface.\ Provided\ surface\ type\ is\ invalid."{}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00039}00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00040}00040\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00042}00042\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00043}\mbox{\hyperlink{class_mirror_a5425cc9ab5766fef1957c15d8670b318}{00043}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_mirror_a5425cc9ab5766fef1957c15d8670b318}{Mirror<T,\ U>::reflect}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ incidentRay,\ \textcolor{keyword}{const}\ vec3<T>\&\ normal,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00044}00044\ \ \ \ \ vec3<T>\ reflectedDirection\ =\ incidentRay.\mbox{\hyperlink{class_ray_aa9e21aa377e4dc0f862881cfe48cbba1}{getDirection}}()\ -\/\ 2\ *\ incidentRay.\mbox{\hyperlink{class_ray_aa9e21aa377e4dc0f862881cfe48cbba1}{getDirection}}().dot(normal)\ *\ normal;}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00045}00045\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00046}00046\ \ \ \ \ incidentRay.\mbox{\hyperlink{class_ray_a89b8e166bcaf884e8ccd185a6e5252bb}{position}}\ =\ intersectionPoint;}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00047}00047\ \ \ \ \ incidentRay.\mbox{\hyperlink{class_ray_ac0075ed78436d9867ae3b03bce2d4370}{direction}}\ =\ reflectedDirection.normalized();}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00048}00048\ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00050}00050\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00051}\mbox{\hyperlink{class_planar_mirror_a05684354087c586612029585191dd4f9}{00051}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_planar_mirror_a05684354087c586612029585191dd4f9}{PlanarMirror<T,\ U>::handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00052}00052\ \ \ \ \ this-\/>reflect(ray,\ this-\/>getNormal(),\ intersectionPoint);}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00053}00053\ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00055}00055\ \textcolor{comment}{//\ Extensions}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00057}00057\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00058}\mbox{\hyperlink{class_convex_mirror}{00058}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_convex_mirror}{ConvexMirror}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00059}00059\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{class_convex_mirror}{ConvexMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ \mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_convex_mirror_a4391d390508c0d3310faa8479fb17570}{handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00064}00064\ \};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00066}00066\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00067}\mbox{\hyperlink{class_concave_mirror}{00067}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_concave_mirror}{ConcaveMirror}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00068}00068\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00069}00069\ \ \ \ \ \mbox{\hyperlink{class_concave_mirror}{ConcaveMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ \mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00071}00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_concave_mirror_a4abf0d14a5ef29773600030d6fc7c2c8}{handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \textcolor{keyword}{override};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00072}00072\ \};}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00074}00074\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00075}\mbox{\hyperlink{class_convex_mirror_a5bc6a99aed4842be6e190af71e8b308b}{00075}}\ \mbox{\hyperlink{class_convex_mirror_a5bc6a99aed4842be6e190af71e8b308b}{ConvexMirror<T,\ U>::ConvexMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ surface)}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00076}00076\ \ \ \ \ :\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>(std::move(surface))\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_spherical_surface}{SphericalSurface<T,\ U>}}*\textcolor{keyword}{>}(this-\/>\mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}}.get())\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}ConvexMirror\ expects\ a\ SphericalSurface\ type.\ Provided\ surface\ type\ is\ invalid."{}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00079}00079\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00080}00080\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00082}00082\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00083}\mbox{\hyperlink{class_convex_mirror_a4391d390508c0d3310faa8479fb17570}{00083}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_convex_mirror_a4391d390508c0d3310faa8479fb17570}{ConvexMirror<T,\ U>::handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00084}00084\ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}ConvexMirror::handleLight\ has\ not\ been\ implemented\ yet.\ TODO:\ Add\ implementation."{}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00085}00085\ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00087}00087\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00088}\mbox{\hyperlink{class_concave_mirror_a2afccdd7bd7686369e92f8f9745aa0ef}{00088}}\ \mbox{\hyperlink{class_concave_mirror_a2afccdd7bd7686369e92f8f9745aa0ef}{ConcaveMirror<T,\ U>::ConcaveMirror}}(std::unique\_ptr<\mbox{\hyperlink{class_optical_surface}{OpticalSurface<T,\ U>}}>\ surface)}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00089}00089\ \ \ \ \ :\ \mbox{\hyperlink{class_mirror}{Mirror}}<T,\ U>(std::move(surface))\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_spherical_surface}{SphericalSurface<T,\ U>}}*\textcolor{keyword}{>}(this-\/>\mbox{\hyperlink{class_optical_component_ac4b5741885388be0e7d0f7e12f9d92b9}{surface}}.get())\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}ConcaveMirror\ expects\ a\ SphericalSurface\ type.\ Provided\ surface\ type\ is\ invalid."{}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00092}00092\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00093}00093\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00095}00095\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00096}\mbox{\hyperlink{class_concave_mirror_a4abf0d14a5ef29773600030d6fc7c2c8}{00096}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_concave_mirror_a4abf0d14a5ef29773600030d6fc7c2c8}{ConcaveMirror<T,\ U>::handleLight}}(\mbox{\hyperlink{class_ray}{Ray<T,\ U>}}\&\ ray,\ \textcolor{keyword}{const}\ vec3<T>\&\ intersectionPoint)\ \{}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00097}00097\ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}ConcaveMirror::handleLight\ has\ not\ been\ implemented\ yet.\ TODO:\ Add\ implementation."{}});}
\DoxyCodeLine{\Hypertarget{mirror_8h_source_l00098}00098\ \}}

\end{DoxyCode}
